From 68ef51fac452cfac5864b3524c41ce57104e31d5 Mon Sep 17 00:00:00 2001
From: Richard W.M. Jones <rjones@redhat.com>
Date: Sat, 16 Jun 2012 14:34:25 +0100
Subject: [PATCH 05/36] EPEL 5: Remove Erlang bindings.

---
 Makefile.am  |    3 ---
 configure.ac |   23 -----------------------
 po/POTFILES  |    2 --
 3 files changed, 0 insertions(+), 28 deletions(-)

diff --git a/Makefile.am b/Makefile.am
index 3908d01..7f53159 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -89,9 +89,6 @@ endif
 if HAVE_PHP
 SUBDIRS += php
 endif
-if HAVE_ERLANG
-SUBDIRS += erlang erlang/examples
-endif
 if HAVE_LUA
 SUBDIRS += lua lua/examples
 endif
diff --git a/configure.ac b/configure.ac
index c8924e5..2ba6a80 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1311,25 +1311,6 @@ AS_IF([test "x$enable_php" != "xno"],[
 ])
 AM_CONDITIONAL([HAVE_PHP], [test "x$PHP" != "xno" && test "x$PHPIZE" != "xno"])
 
-dnl Erlang
-ERLANG=no
-AC_ARG_ENABLE([erlang],
-    AS_HELP_STRING([--disable-erlang], [disable Erlang language bindings]),
-         [],
-         [enable_erlang=yes])
-# NB: Don't use AS_IF here: it doesn't work.
-if test "x$enable_erlang" != "xno"; then
-        ERLANG=
-        AC_ERLANG_PATH_ERLC([no])
-
-        if test "x$ERLC" != "xno"; then
-            AC_ERLANG_CHECK_LIB([erl_interface], [],
-                                [AC_MSG_FAILURE([Erlang erl_interface library not installed.  Use --disable-erlang to disable.])])
-            AC_ERLANG_SUBST_LIB_DIR
-        fi
-fi
-AM_CONDITIONAL([HAVE_ERLANG], [test "x$ERLANG" != "xno" && test "x$ERLC" != "xno"])
-
 dnl Lua
 AC_ARG_ENABLE([lua],
     AS_HELP_STRING([--disable-lua], [disable Lua language bindings]),
@@ -1476,8 +1457,6 @@ AC_CONFIG_FILES([Makefile
                  daemon/Makefile
                  df/Makefile
                  edit/Makefile
-                 erlang/Makefile
-                 erlang/examples/Makefile
                  examples/Makefile
                  fish/Makefile
                  format/Makefile
@@ -1579,8 +1558,6 @@ echo -n "Haskell bindings .................... "
 if test "x$HAVE_HASKELL_TRUE" = "x"; then echo "yes"; else echo "no"; fi
 echo -n "PHP bindings ........................ "
 if test "x$HAVE_PHP_TRUE" = "x"; then echo "yes"; else echo "no"; fi
-echo -n "Erlang bindings ..................... "
-if test "x$HAVE_ERLANG_TRUE" = "x"; then echo "yes"; else echo "no"; fi
 echo -n "Lua bindings ........................ "
 if test "x$HAVE_LUA_TRUE" = "x"; then echo "yes"; else echo "no"; fi
 echo -n "gobject bindings .................... "
diff --git a/po/POTFILES b/po/POTFILES
index e64492b..89eda53 100644
--- a/po/POTFILES
+++ b/po/POTFILES
@@ -101,8 +101,6 @@ df/domains.c
 df/main.c
 df/output.c
 edit/virt-edit.c
-erlang/erl-guestfs-proto.c
-erlang/erl-guestfs.c
 fish/alloc.c
 fish/cmds-gperf.c
 fish/cmds.c
-- 
1.7.4.1

