From 9f157857641bd3797f545748392a3356a9a47c5c Mon Sep 17 00:00:00 2001
From: Richard W.M. Jones <rjones@redhat.com>
Date: Fri, 31 Aug 2012 10:24:06 +0100
Subject: [PATCH 24/33] EPEL 5: Don't use sgabios.

Old qemu doesn't support '-device' parameter.
---
 src/launch-appliance.c |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

diff --git a/src/launch-appliance.c b/src/launch-appliance.c
index 71d7aa6..8e17793 100644
--- a/src/launch-appliance.c
+++ b/src/launch-appliance.c
@@ -414,17 +414,6 @@ launch_appliance (guestfs_h *g, const char *arg)
     add_cmdline (g, "-serial");
     add_cmdline (g, "stdio");
 
-    if (qemu_supports_device (g, "Serial Graphics Adapter")) {
-      /* Use sgabios instead of vgabios.  This means we'll see BIOS
-       * messages on the serial port, and also works around this bug
-       * in qemu 1.1.0:
-       * https://bugs.launchpad.net/qemu/+bug/1021649
-       * QEmu has included sgabios upstream since just before 1.0.
-       */
-      add_cmdline (g, "-device");
-      add_cmdline (g, "sga");
-    }
-
     /* Null vmchannel. */
     add_cmdline (g, "-net");
     add_cmdline (g, "user,vlan=0,net=" NETWORK);
-- 
1.7.4.1

