From b61c9b9b639e321bf82b21b444fdcf6dacb972b1 Mon Sep 17 00:00:00 2001
From: "Richard W.M. Jones" <rjones@redhat.com>
Date: Mon, 13 Jan 2014 16:19:51 +0000
Subject: [PATCH] builder: Document how to set Japanese in Debian 7.

(cherry picked from commit d885d6f6a97ee119fe1751df6f7d04844bfbf6be)
---
 builder/virt-builder.pod | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/builder/virt-builder.pod b/builder/virt-builder.pod
index 38e26a8..ec41078 100644
--- a/builder/virt-builder.pod
+++ b/builder/virt-builder.pod
@@ -857,6 +857,27 @@ This section contains examples for some common Linux distributions.
    --firstboot-command 'localectl set-keymap jp' \
    --firstboot-command 'systemctl isolate graphical.target'
 
+=head3 Setting Japanese in Debian 7 (Wheezy)
+
+Note that although this enables Japanese in the text console too, it
+is unlikely that you will see properly rendered Japanese there.
+However Japanese is properly rendered in X applications and terminals.
+
+ pkgs=locales,xfce4,\
+ ibus,ibus-anthy,\
+ ttf-sazanami-gothic,ttf-sazanami-mincho,\
+ fonts-takao-mincho,\
+ xfonts-intl-japanese,xfonts-intl-japanese-big,\
+ iceweasel-l10n-ja,manpages-ja
+ 
+ virt-builder debian-7 \
+   --size 20G \
+   --install $pkgs \
+   --edit '/etc/inittab: s,^#([1-9].*respawn.*/sbin/getty.*),$1,' \
+   --edit '/etc/locale.gen: s,^#\s*ja,ja,' \
+   --write '/etc/default/locale:LANG="ja_JP.UTF-8"' \
+   --run-command "locale-gen"
+
 =head2 LOG FILE
 
 Scripts and package installation that runs at build time (I<--run>,
-- 
1.8.5.3

